webshims.register("form-datalist",function(o,r,d,l,n,p){"use strict";var u=function(t){t&&"string"==typeof t||(t="DOM"),u[t+"Loaded"]||(u[t+"Loaded"]=!0,r.ready(t,function(){r.loader.loadList(["form-datalist-lazy"])}))},h={submit:1,button:1,reset:1,hidden:1,range:1,date:1,month:1};r.modules["form-number-date-ui"].loaded&&o.extend(h,{number:1,time:1}),r.propTypes.element=function(i,e){r.createPropDefault(i,"attr"),i.prop||(i.prop={get:function(){var t=o.attr(this,e);return t&&(t=l.getElementById(t))&&i.propNodeName&&!o.nodeName(t,i.propNodeName)&&(t=null),t||null},writeable:!1})},function(){var t=o.webshims.cfg.forms,i=Modernizr.input.list;if(!i||t.customDatalist){var e,a,s={_create:function(t){if(!h[o.prop(t.input,"type")]&&!h[o.attr(t.input,"type")]){var i=t.datalist,e=o.data(t.input,"datalistWidget"),a=this;if(i&&e&&e.datalist!==i)return e.datalist=i,e.id=t.id,o(e.datalist).off("updateDatalist.datalistWidget").on("updateDatalist.datalistWidget",o.proxy(e,"_resetListCached")),void e._resetListCached();i?e&&e.datalist===i||(this.datalist=i,this.id=t.id,this.hasViewableData=!0,this._autocomplete=o.attr(t.input,"autocomplete"),o.data(t.input,"datalistWidget",this),o.data(i,"datalistWidgetData",this),u("WINDOWLOAD"),r.isReady("form-datalist-lazy")?this._lazyCreate(t):(o(t.input).one("focus",u),r.ready("form-datalist-lazy",function(){a._destroyed||a._lazyCreate(t)}))):e&&e.destroy()}},destroy:function(t){var i,e=o.attr(this.input,"autocomplete");o(this.input).off(".datalistWidget").removeData("datalistWidget"),this.shadowList.remove(),o(l).off(".datalist"+this.id),o(d).off(".datalist"+this.id),this.input.form&&this.input.id&&o(this.input.form).off("submit.datalistWidget"+this.input.id),this.input.removeAttribute("aria-haspopup"),e===n?this.input.removeAttribute("autocomplete"):o(this.input).attr("autocomplete",e),t&&"beforeunload"==t.type&&(i=this.input,setTimeout(function(){o.attr(i,"list",o.attr(i,"list"))},9)),this._destroyed=!0}};r.loader.addModule("form-datalist-lazy",{noAutoCallback:!0,options:o.extend(p,{shadowListProto:s})}),e=function(){var t;!o.data(this,"datalistWidgetData")&&(t=o.prop(this,"id"))?o('input[list="'+t+'"], input[data-wslist="'+t+'"]').eq(0).attr("list",t):o(this).triggerHandler("updateDatalist")},a={autocomplete:{attr:{get:function(){var t=this,i=o.data(t,"datalistWidget");return i?i._autocomplete:"autocomplete"in t?t.autocomplete:t.getAttribute("autocomplete")},set:function(t){var i=this,e=o.data(i,"datalistWidget");e?"off"==(e._autocomplete=t)&&e.hideList():"autocomplete"in i?i.autocomplete=t:i.setAttribute("autocomplete",t)}}}},i?((o("<datalist><select><option></option></select></datalist>").prop("options")||[]).length||r.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var t=this.options||[];if(!t.length){var i=o("select",this);i[0]&&i[0].options&&i[0].options.length&&(t=i[0].options)}return t}}}),a.list={attr:{get:function(){var t=r.contentAttr(this,"list");return null!=t?(o.data(this,"datalistListAttr",t),h[o.prop(this,"type")]||h[o.attr(this,"type")]||this.removeAttribute("list")):t=o.data(this,"datalistListAttr"),null==t?n:t},set:function(t){var i=this;o.data(i,"datalistListAttr",t),h[o.prop(this,"type")]||h[o.attr(this,"type")]?i.setAttribute("list",t):(r.objectCreate(s,n,{input:i,id:t,datalist:o.prop(i,"list")}),i.setAttribute("data-wslist",t)),o(i).triggerHandler("listdatalistchange")}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"}):r.defineNodeNameProperties("input",{list:{attr:{get:function(){var t=r.contentAttr(this,"list");return null==t?n:t},set:function(t){var i=this;r.contentAttr(i,"list",t),r.objectCreate(p.shadowListProto,n,{input:i,id:t,datalist:o.prop(i,"list")}),o(i).triggerHandler("listdatalistchange")}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"}}),r.defineNodeNameProperties("input",a),r.addReady(function(t,i){i.filter("datalist > select, datalist, datalist > option, datalist > select > option").closest("datalist").each(e)})}}()});