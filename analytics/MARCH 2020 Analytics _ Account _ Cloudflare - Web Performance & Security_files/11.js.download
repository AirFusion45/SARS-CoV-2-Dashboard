!function(v){var n=function(t,e){return"number"==typeof t||t&&t==1*t?1*t:e},e=["step","min","max","readonly","title","disabled","tabindex"],i={_create:function(){var t;for(this.element.addClass("ws-range").attr({role:"slider"}).append('<span class="ws-range-min ws-range-progress" /><span class="ws-range-rail ws-range-track"><span class="ws-range-thumb" /></span>'),this.trail=v(".ws-range-track",this.element),this.range=v(".ws-range-progress ",this.element),this.thumb=v(".ws-range-thumb",this.trail),this.updateMetrics(),this.orig=this.options.orig,t=0;t<e.length;t++)this[e[t]](this.options[e[t]]);this.value=this._value,this.value(this.options.value),this.initDataList(),this.element.data("rangeUi",this),this.addBindings(),this._init=!0},value:v.noop,_value:function(t,e,i){var n,s,o=this.options,a=t,r={},u={};e||parseFloat(t,10)==t||(t=o.min+(o.max-o.min)/2),e||(t=this.normalizeVal(t)),n=(t-o.min)/(o.max-o.min)*100,this._init&&t==o.value&&a==t||(this.options.value=t,this.thumb.stop(),this.range.stop(),u[this.dirs.width]=n+"%",this.vertical&&(n=Math.abs(n-100)),r[this.dirs.left]=n+"%",i?((i="object"!=typeof i?{}:v.extend({},i)).duration||(s=Math.abs(n-parseInt(this.thumb[0].style[this.dirs.left]||50,10)),i.duration=Math.max(Math.min(999,5*s),99)),this.thumb.animate(r,i),this.range.animate(u,i)):(this.thumb.css(r),this.range.css(u)),this.orig&&(a!=t||!this._init&&this.orig.value!=t)&&this.options._change(t),this.element.attr({"aria-valuenow":this.options.value,"aria-valuetext":this.options.textValue?this.options.textValue(this.options.value):this.options.options[this.options.value]||this.options.value}))},initDataList:function(){if(this.orig){var t,e=this,i=function(){v(e.orig).jProp("list").off("updateDatalist",i).on("updateDatalist",i),clearTimeout(t),t=setTimeout(function(){e.list&&e.list()},9)};v(this.orig).on("listdatalistchange",i),this.list()}},list:function(t){var o=this.options,a=o.min,r=o.max,u=this.trail,l=this;this.element.attr({"aria-valuetext":o.options[o.value]||o.value}),v(".ws-range-ticks",u).remove(),v(this.orig).jProp("list").find("option:not([disabled])").each(function(){o.options[v.prop(this,"value")]=v.prop(this,"label")||""}),v.each(o.options,function(t,e){if(!(!("number"==typeof(i=t)||i&&i==1*i)||t<a||r<t)){var i,n=(t-a)/(r-a)*100,s=o.showLabels&&e?' title="'+e+'"':"";l.vertical&&(n=Math.abs(n-100)),l.posCenter(v('<span class="ws-range-ticks"'+s+' data-label="'+e+'" style="'+l.dirs.left+": "+n+'%;" />').appendTo(u))}})},readonly:function(t){t=!!t,this.options.readonly=t,this.element.attr("aria-readonly",""+t),this._init&&this.updateMetrics()},disabled:function(t){t=!!t,(this.options.disabled=t)?this.element.attr({tabindex:-1,"aria-disabled":"true"}):this.element.attr({tabindex:this.options.tabindex,"aria-disabled":"false"}),this._init&&this.updateMetrics()},tabindex:function(t){this.options.tabindex=t,this.options.disabled||this.element.attr({tabindex:t})},title:function(t){this.element.prop("title",t)},min:function(t){this.options.min=n(t,0),this.value(this.options.value,!0)},max:function(t){this.options.max=n(t,100),this.value(this.options.value,!0)},step:function(t){var e=this.options,i="any"==t?"any":n(t,1);e.stepping&&("any"!=i&&e.stepping%i?webshims.error("wrong stepping value for type range:"+e.stepping%i):i=e.stepping),e.step=i,this.value(this.options.value)},normalizeVal:function(t){var e,i,n,s=this.options;return t<=s.min?t=s.min:t>=s.max?t=s.max:"any"!=s.step&&(n=s.step,i=t-(e=(t-s.min)%n),2*Math.abs(e)>=n&&(i+=0<e?n:-n),t=1*i.toFixed(5)),t},doStep:function(t,e){var i=n(this.options.step,1);"any"==this.options.step&&(i=Math.min(i,(this.options.max-this.options.min)/10)),this.value(this.options.value+i*t,!1,e)},getStepedValueFromPos:function(t){var e,i,n,s;return t<=0?e=this.options[this.dirs.min]:100<t?e=this.options[this.dirs.max]:(this.vertical&&(t=Math.abs(t-100)),e=(this.options.max-this.options.min)*(t/100)+this.options.min,"any"!=(s=this.options.step)&&(n=e-(i=(e-this.options.min)%s),2*Math.abs(i)>=s&&(n+=0<i?s:-s),e=1*n.toFixed(5))),e},addRemoveClass:function(t,e){var i,n=-1!=this.element.prop("className").indexOf(t);!e&&n?(i="removeClass",this.element.removeClass(t),this.updateMetrics()):e&&!n&&(i="addClass"),i&&(this.element[i](t),this._init&&this.updateMetrics())},addBindings:function(){var n,s,i,e,o,a,r,u=this,l=this.options,p=(o={},{init:function(t,e,i){o[t]||(o[t]={fn:i},u.orig&&v(u.orig).on(t,function(){o[t].val=v.prop(u.orig,"value")})),o[t].val=e},call:function(t,e){o[t].val!=e&&(clearTimeout(o[t].timer),o[t].val=e,o[t].timer=setTimeout(function(){o[t].fn(e,u)},0))}}),h=(a={touchstart:1,touchend:1,touchmove:1},r=["pageX","pageY"],function(t){if(a[t.type]&&t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches.length)for(var e=0;e<r.length;e++)t[r[e]]=t.originalEvent.touches[0][r[e]];return t}),c=function(t,e){"touchmove"==t.type&&(t.preventDefault(),h(t));var i=u.getStepedValueFromPos((t[u.dirs.mouse]-n)*s);i!=l.value&&(u.value(i,!1,e),p.call("input",i)),t&&"mousemove"==t.type&&t.preventDefault()},m=function(t){t&&"mouseup"==t.type&&(p.call("input",l.value),p.call("change",l.value)),u.addRemoveClass("ws-active"),v(document).off("mousemove touchmove",c).off("mouseup touchend",m),v(window).off("blur",d),e=!1},d=function(t){t.target==window&&m()},t=function(t){if(!e&&("touchstart"!=t.type||t.originalEvent&&t.originalEvent.touches&&1==t.originalEvent.touches.length)&&(t.preventDefault(),v(document).off("mousemove touchmove",c).off("mouseup touchend",m),v(window).off("blur",d),!l.readonly&&!l.disabled)){if(h(t),u.element.focus(),u.addRemoveClass("ws-active",!0),n=u.element.focus().offset(),!(s=u.element[u.dirs.innerWidth]())||!n)return;u.thumb[u.dirs.outerWidth](),n=n[u.dirs.pos],s=100/s,c(t,l.animate),e=!0,v(document).on("touchstart"==t.type?{touchend:m,touchmove:c}:{mouseup:m,mousemove:c}),v(window).on("blur",d),t.stopPropagation()}},f={"touchstart mousedown":t,focus:function(t){l.disabled||i||(p.init("input",l.value),p.init("change",l.value),u.addRemoveClass("ws-focus",!0),u.updateMetrics()),i=!0},blur:function(t){u.element.removeClass("ws-focus ws-active"),u.updateMetrics(),i=!1,p.init("input",l.value),p.call("change",l.value)},keyup:function(){u.addRemoveClass("ws-active"),p.call("input",l.value),p.call("change",l.value)},keydown:function(t){var e=!0,i=t.keyCode;l.readonly||l.disabled||(39==i||38==i?u.doStep(1):37==i||40==i?u.doStep(-1):33==i?u.doStep(10,l.animate):34==i?u.doStep(-10,l.animate):36==i?u.value(u.options.max,!1,l.animate):35==i?u.value(u.options.min,!1,l.animate):e=!1,e&&(u.addRemoveClass("ws-active",!0),p.call("input",l.value),t.preventDefault()))}};p.init("input",l.value,this.options.input),p.init("change",l.value,this.options.change),f[v.fn.mwheelIntent?"mwheelIntent":"mousewheel"]=function(t,e){e&&i&&!l.readonly&&!l.disabled&&(u.doStep(e),t.preventDefault(),p.call("input",l.value))},this.element.on(f),this.thumb.on({mousedown:t}),this.orig&&v(this.orig).jProp("form").on("reset",function(){var e=v.prop(u.orig,"value");u.value(e),setTimeout(function(){var t=v.prop(u.orig,"value");e!=t&&u.value(t)},4)}),window.webshims&&webshims.ready("WINDOWLOAD",function(){webshims.ready("dom-support",function(){v.fn.onWSOff&&u.element.onWSOff("updateshadowdom",function(){u.updateMetrics()})}),!v.fn.onWSOff&&webshims._polyfill&&webshims._polyfill(["dom-support"])})},posCenter:function(t,e){var i;!this.options.calcCenter||this._init&&!this.element[0].offsetWidth||(t||(t=this.thumb),e||(e=t[this.dirs.outerWidth]()),e/=-2,t.css(this.dirs.marginLeft,e),this.options.calcTrail&&t[0]==this.thumb[0]&&(i=this.element[this.dirs.innerHeight](),t.css(this.dirs.marginTop,(t[this.dirs.outerHeight]()-i)/-2),this.range.css(this.dirs.marginTop,(this.range[this.dirs.outerHeight]()-i)/-2),e*=-1,this.trail.css(this.dirs.left,e).css(this.dirs.right,e)))},updateMetrics:function(){var t=this.element.innerWidth();this.vertical=t&&10<this.element.innerHeight()-t,this.dirs=this.vertical?{mouse:"pageY",pos:"top",min:"max",max:"min",left:"top",right:"bottom",width:"height",innerWidth:"innerHeight",innerHeight:"innerWidth",outerWidth:"outerHeight",outerHeight:"outerWidth",marginTop:"marginLeft",marginLeft:"marginTop"}:{mouse:"pageX",pos:"left",min:"min",max:"max",left:"left",right:"right",width:"width",innerWidth:"innerWidth",innerHeight:"innerHeight",outerWidth:"outerWidth",outerHeight:"outerHeight",marginTop:"marginTop",marginLeft:"marginLeft"},this.element[this.vertical?"addClass":"removeClass"]("vertical-range")[this.vertical?"addClass":"removeClass"]("horizontal-range"),this.posCenter()}};v.fn.rangeUI=function(e){return e=v.extend({readonly:!1,disabled:!1,tabindex:0,min:0,step:1,max:100,value:50,input:v.noop,change:v.noop,_change:v.noop,showLabels:!0,options:{},calcCenter:!0,calcTrail:!0},e),this.each(function(){var t=v.extend(function(t){function e(){}return e.prototype=t,new e}(i),{element:v(this)});t.options=e,t._create.call(t)})},window.webshims&&webshims.isReady&&(webshims.ready("es5",function(){webshims.isReady("range-ui",!0)}),webshims._polyfill&&webshims._polyfill(["es5"]))}(window.webshims?webshims.$:jQuery),webshims.register("form-number-date-ui",function(D,b,t,a,e,y){"use strict";var _,i,n=b.formcfg,o=["01","02","03","04","05","06","07","08","09","10","11","12"],C=function(t){t.stopImmediatePropagation()},s=function(){return i||(i='<option value=""></option>'+D.map(o,function(t){return'<option value="'+t+'"]>'+t+"</option>"}).join("")),i},u=function(t){if(!_.patterns[t+"Obj"]){var i={};D.each(_.patterns[t].split(_[t+"Format"]),function(t,e){i[e]=t}),_.patterns[t+"Obj"]=i}},l={date:{_create:function(t){var e={splits:[D('<input type="text" class="yy" size="4" inputmode="numeric" />')[0]]};return t.monthSelect?e.splits.push(D('<select class="mm">'+s(t)+"</select>")[0]):e.splits.push(D('<input type="text" class="mm" inputmode="numeric" maxlength="2" size="2" />')[0]),e.splits.push(D('<input type="text" class="dd ws-spin" inputmode="numeric" maxlength="2" size="2" />')[0]),e.elements=[e.splits[0],D('<span class="ws-input-seperator" />')[0],e.splits[1],D('<span class="ws-input-seperator" />')[0],e.splits[2]],e},sort:function(n){u("d");var s=0,o=D(".ws-input-seperator",n).html(_.dFormat),a=D("input, select",n);D.each(_.patterns.dObj,function(t,e){var i=a.filter("."+t);i[0]&&(i.appendTo(n),s<o.length&&o.eq(s).insertAfter(i),s++)})}},month:{_create:function(t){var e={splits:[D('<input type="text" class="yy" inputmode="numeric" size="4" />')[0]]};return t.monthSelect?e.splits.push(D('<select class="mm ws-spin">'+s(t)+"</select>")[0]):(e.splits.push(D('<input type="text" class="mm ws-spin" />')[0]),t.onlyMonthDigits&&D(e.splits[1]).attr({inputmode:"numeric",size:2,maxlength:2})),e.elements=[e.splits[0],D('<span class="ws-input-seperator" />')[0],e.splits[1]],e},sort:function(t){var e=D(".ws-input-seperator",t).html(_.dFormat),i=D("input.mm, select.mm",t);e[_.date.showMonthAfterYear?(i.appendTo(t),"insertBefore"):(i.prependTo(t),"insertAfter")](i)}}},r=new Date((new Date).getTime()-60*(new Date).getTimezoneOffset()*1e3);r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours()).getTime();var p,h,c,V={number:{step:1},"datetime-local":{step:60,start:new Date(r).getTime()},time:{step:60},month:{step:1,start:new Date(r)},date:{step:1,start:new Date(r)}},w=(p=function(){return b.getID(this)},function(e,t,i){D(e).attr({"aria-labelledby":t.map(p).get().join(" ")}),i||t.on("click",function(t){return e.getShadowFocusElement().focus(),t.preventDefault(),!1})}),m=function(t){return t?1==(t+="").length?"0"+t:t:""};!function(){n.de=D.extend(!0,{numberFormat:{",":".",".":","},timeSigns:":. ",numberSigns:",",dateSigns:".",dFormat:".",patterns:{d:"dd.mm.yy"},month:{currentText:"Aktueller Monat"},time:{currentText:"Jetzt"},date:{close:"schließen",clear:"Löschen",prevText:"Zurück",nextText:"Vor",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}},n.de||{}),n.en=D.extend(!0,{numberFormat:{".":".",",":","},numberSigns:".",dateSigns:"/",timeSigns:":. ",dFormat:"/",patterns:{d:"mm/dd/yy"},meridian:["AM","PM"],month:{currentText:"This month"},time:{currentText:"Now"},date:{closeText:"Done",clear:"Clear",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}},n.en||{}),n["en-US"]||(n["en-US"]=D.extend(!0,{},n.en)),n["en-GB"]||(n["en-GB"]=D.extend(!0,{},n.en,{date:{firstDay:1},patterns:{d:"dd/mm/yy"}})),n["en-AU"]||(n["en-AU"]=D.extend(!0,{},n["en-GB"])),n[""]||(n[""]=n["en-US"]),_=n[""];var i=function(){!function(s){if(!s.date.monthkeys){var t=function(t,e){var i,n=t+1;i=n<10?"0"+n:""+n,s.date.monthkeys[n]=i,s.date.monthkeys[e]=i,s.date.monthkeys[e.toLowerCase()]=i};s.date.monthkeys={},s.date.monthDigits=o,s.numberSigns+="-",s.meridian&&(s.timeSigns+=s.meridian[0]+s.meridian[1]),D.each(s.date.monthNames,t),D.each(s.date.monthNamesShort,t)}s.colorSigns||(s.colorSigns="#abcdefABCDEF"),s["datetime-localSigns"]||(s["datetime-localSigns"]=s.dateSigns+s.timeSigns),s["datetime-local"]||(s["datetime-local"]={}),s.time||(s.time={}),!s["datetime-local"].currentText&&s.time.currentText&&(s["datetime-local"].currentText=s.time.currentText)}(_),D(a).triggerHandler("wslocalechange")};i(),b.activeLang({register:"form-core",callback:function(){D.each(arguments,function(t,e){if(n[e])return n[e]!=_&&(_=n[e],i()),!1})}}),b.activeLang({langObj:n,module:"form-core",callback:function(t){_!=t&&(_=t,i())}})}(),function(){var e,S=function(t){D(this)["mousepressstart"==t.type?"addClass":"removeClass"]("mousepress-ui")},o={number:function(t){return(t+"").replace(/\,/g,"").replace(/\./,_.numberFormat["."])},time:function(t){var e;return t&&_.meridian&&(e=(e=1*(t=t.split(":"))[0])&&12<=e?(t[0]=m(e-12+""),1):0,"00"===t[0]&&(t[0]="12"),t=D.trim(t.join(":"))+" "+_.meridian[e]),t},"datetime-local":function(t,e){var i=D.trim(t||"").split("T");return 2==i.length&&(t=this.date(i[0],e)+" "+this.time(i[1],e)),t},month:function(t,e){var i,n=t.split("-");return n[0]&&n[1]?(i=_.date[e.formatMonthNames]||_.date[e.monthNames]||_.date.monthNames,n[1]=i[1*n[1]-1],e&&e.splitInput?t=[n[0]||"",n[1]||""]:n[1]&&(t=_.date.showMonthAfterYear?n.join(" "):n[1]+" "+n[0])):e&&e.splitInput&&(t=[n[0]||"",n[1]||""]),t},date:function(t,e){var i=(t+"").split("-");return i[2]&&i[1]&&i[0]?t=e&&e.splitInput?i:(t=(t=_.patterns.d.replace("yy",i[0]||"")).replace("mm",i[1]||"")).replace("dd",i[2]||""):e&&e.splitInput&&(t=[i[0]||"",i[1]||"",i[2]||""]),t},color:function(t,e){var i="#000000";return t&&7==(t=t.toLowerCase()).length&&n("color").isValid(t)&&(i=t),i}},i={number:function(t){return(t+"").replace(_.numberFormat[","],"").replace(_.numberFormat["."],".")},"datetime-local":function(t,e){var i,n=D.trim(t||"").split(/\s+/);return 2==n.length?(-1!=n[0].indexOf(":")&&-1==n[1].indexOf(":")&&(i=n[1],n[1]=n[0],n[0]=i),t=this.date(n[0],e)+"T"+this.time(n[1],e)):3==n.length&&(t=this.date(n[0],e)+"T"+this.time(n[1]+n[2],e)),t},time:function(t){var e;return t&&_.meridian&&("12"===t.substr(0,2)&&(t="00"+t.substr(2)),-1!=t.indexOf(_.meridian[1])&&(e=1*(t=t.split(":"))[0],isNaN(e)||(t[0]=e+12),t=t.join(":")),t=D.trim(t.replace(_.meridian[0],"").replace(_.meridian[1],""))),t},month:function(t,e,i){var n=e.splitInput?t:t.trim().split(/[\.\s-\/\\]+/);return 2==n.length&&n[0]&&n[1]?(n[0]=!i&&_.date.monthkeys[n[0]]||n[0],n[1]=!i&&_.date.monthkeys[n[1]]||n[1],t=2==n[1].length&&3<n[0].length?n[0]+"-"+n[1]:2==n[0].length&&3<n[1].length?n[1]+"-"+n[0]:""):e.splitInput&&(t=""),t},date:function(t,e,i){var n;return u("d"),e.splitInput?n={yy:0,mm:1,dd:2}:(n=_.patterns.dObj,t=t.split(_.dFormat)),3==t.length&&t[0]&&t[1]&&t[2]&&(!i||3<t[n.yy].length&&2==t[n.mm].length&&2==t[n.dd].length)?[m(t[n.yy]),m(t[n.mm]),m(t[n.dd])].join("-"):""},color:function(t,e){var i="#000000";return t&&(0!==(t=t.toLowerCase()).indexOf("#")&&(t="#"+t),4==t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),7==t.length&&n("color").isValid(t)&&(i=t)),i}},A={date:function(t,e){var i=(t||"").split("-");return i=3==i.length?e.splitInput?i:_.patterns.d.replace("yy",i[0]).replace("mm",i[1]).replace("dd",i[2]):e.splitInput?[t,t,t]:t},month:function(t,e){var i=(t||"").split("-");return i=2==i.length?e.splitInput?i:_.date.showMonthAfterYear?i[0]+" "+i[1]:i[1]+" "+i[0]:e.splitInput?[t,t]:t}},n=(e={},function(t){var i;return e[t]||(i=D('<input type="'+t+'" step="any" />'),e[t]={asNumber:function(t){var e="object"==typeof t?"valueAsDate":"value";return i.prop(e,t).prop("valueAsNumber")},asValue:function(t){var e="object"==typeof t?"valueAsDate":"valueAsNumber";return i.prop(e,t).prop("value")},isValid:function(t,e){return e&&(e.nodeName||e.jquery)&&(e={min:D(e).prop("min")||"",max:D(e).prop("max")||"",step:D(e).prop("step")||"any"}),e=D.extend({step:"any",min:"",max:""},e||{}),i.attr(e).prop("value",t).is(":valid")&&i.prop("value")==t}}),e[t]});V.range=V.number;var a={_create:function(){var t,e,i,n=this.options,s=this.createOpts;for(this.type=n.type,this.orig=n.orig,this.buttonWrapper=D('<span class="input-buttons '+this.type+'-input-buttons"></span>').insertAfter(this.element),this.options.containerElements.push(this.buttonWrapper[0]),n.mirrorValidity=n.mirrorValidity&&this.orig&&Modernizr.formvalidation&&!b.bugs.bustedValidity,n.splitInput&&this._addSplitInputs?(n.monthSelect&&this.element.addClass("ws-month-select"),this._addSplitInputs()):this.inputElements=this.element,V[this.type]&&"object"==typeof V[this.type].start&&(V[this.type].start=this.asNumber(V[this.type].start)),b.picker[this.type]||(n.buttonOnly=!1),t=0;t<s.length;t++)null!=n[s[t]]&&this[s[t]](n[s[t]],n[s[t]]);"color"==this.type&&this.inputElements.prop("maxLength",7),this.addBindings(),D(this.element).data("wsWidget"+n.type,this),n.buttonOnly&&this.inputElements.prop({readOnly:!0}),this._init=!0,n.mirrorValidity&&(e=this,(i=function(){clearTimeout(i._timerDealy),i._timerDealy=setTimeout(i._wsexec,9)})._wsexec=function(){clearTimeout(i._timerDealy),e.mirrorValidity(!0)},i(),D(this.orig).on("change input",function(t){"input"==t.type?i():i._wsexec()}))},mirrorValidity:function(t){if(this._init&&this.options.mirrorValidity){t||D.prop(this.orig,"validity");var i=D(this.orig).getErrorMessage();i!==this.lastErrorMessage&&(this.inputElements.prop("setCustomValidity",function(t,e){e._supvalue&&e._supvalue.call(this,i)}),this.lastErrorMessage=i)}},addBindings:function(){var s,n,i,e,t,o,a,r,u,l,p,h,c,m,d=this,f=this.options,v=(n={},{init:function(t,e,i){n[t]||(n[t]={fn:i},D(d.orig).on(t,function(){n[t].val=D.prop(d.orig,"value")})),n[t].val=e},call:function(t,e){n[t]&&n[t].val!=e&&(clearTimeout(n[t].timer),n[t].val=e,n[t].timer=setTimeout(function(){n[t].fn(e,d)},9))}}),g=function(){v.init("input",D.prop(d.orig,"value"),d.options.input),v.init("change",D.prop(d.orig,"value"),d.options.change)},b={},y=function(t){if(y.prevent)return t.preventDefault(),(s||d.element.getShadowFocusElement()).focus(),C(t),!0},w=(e=function(t){var e;clearTimeout(i),e=d.parseValue(),"color"==d.type&&d.inputElements.val(e),D.prop(d.orig,"value",e),v.call("input",e),t&&"wsupdatevalue"==t.type||v.call("change",e)},t=function(){clearTimeout(i)},o=function(t){clearTimeout(i),i=setTimeout(e,0),"change"==t.type&&(C(t),f.splitInput||e())},d.element.on("wsupdatevalue",e),d.inputElements.add(d.buttonWrapper).add(d.element).on({"focus focusin":t,"blur focusout change":o}),setTimeout(function(){d.popover&&(d.popover.element.on("wspopoverhide",o),D("> *",d.popover.element).on({focusin:t,focusout:o}))},0),{}),x=f.splitInput?this.inputElements.filter(".ws-spin"):this.inputElements.eq(0),N={blur:function(t){y(t)||f.disabled||f.readonly||y.prevent||(s=!1),C(t)},focus:function(t){s||(g(),s=this)},keypress:function(t){if(!t.isDefaultPrevented()){var e,i=t.keyCode;!(t.ctrlKey||t.metaKey||!_[d.type+"Signs"])&&!((e=String.fromCharCode(null==t.charCode?i:t.charCode))<" "||-1<(_[d.type+"Signs"]+"0123456789").indexOf(e))&&t.preventDefault()}},input:"color"==this.type&&this.isValid?D.noop:(h=function(){var t=d.parseValue(!0);t&&d.isValid(t)&&d.setInput(t)},function(){clearTimeout(p),p=setTimeout(h,200)}),"input keydown keypress":(r=!1,u=function(){!0===r?(r="semi",a=setTimeout(u,250)):r=!1},l=function(){var t=this;setTimeout(function(){t.focus(),t.select()},4),r=!0,clearTimeout(a),a=setTimeout(u,300)},function(t){if(f.splitInput&&f.jumpInputs)if("input"==t.type){if(D.prop(this,"value").length===D.prop(this,"maxLength"))try{D(this).next().next("input, select").each(l)}catch(e){}}else t.shiftKey||t.crtlKey||9!=t.keyCode||!0!==r&&(!r||D.prop(this,"value"))||t.preventDefault()})},T=function(){return f.disabled||s||d.element.getShadowFocusElement().focus(),y.set(),!1};y.set=(c=function(){y.prevent=!1},function(){clearTimeout(void 0),y.prevent=!0,setTimeout(c,9)}),this.buttonWrapper.on("mousedown",T),this.setInput=function(t){d.value(t),v.call("input",t)},this.setChange=function(t){d.setInput(t),v.call("change",t)},this.inputElements.on(N),V[this.type]&&(["stepUp","stepDown"].forEach(function(n){b[n]=function(t){if(!f.disabled&&!f.readonly){s||T();var e=!1;t||(t=1);try{d.elemHelper[n](t),e=d.elemHelper.prop("value")}catch(i){!f.value&&d.maxAsNumber>=d.minAsNumber&&(e=f.defValue)}return!1!==e&&f.value!=e&&(d.value(e),v.call("input",e)),e}}}),f.noSpinbtn||(w[D.fn.mwheelIntent?"mwheelIntent":"mousewheel"]=function(t,e){e&&s&&!f.disabled&&(b[0<e?"stepUp":"stepDown"](),t.preventDefault())},w.keydown=function(t){if(!(f.list||t.isDefaultPrevented()||t.altKey&&40==t.keyCode||D.attr(this,"list"))){var e=!0,i=t.keyCode;38==i?b.stepUp():40==i?b.stepDown():e=!1,e&&t.preventDefault()}},x.attr({autocomplete:"off",role:"spinbutton"}).on(w)),D(this.buttonWrapper).on("mousepressstart mousepressend",".step-up, .step-down",S).on("mousedown mousepress",".step-up",function(t){b.stepUp()}).on("mousedown mousepress",".step-down",function(t){b.stepDown()})),"color"!=this.type&&(f.splitInput?(m=function(){d.reorderInputs()},d.reorderInputs()):m=function(){f.value&&d.value(f.value,!0),A[d.type]&&f.placeholder&&d.placeholder(f.placeholder)},D(d.orig).onWSOff("wslocalechange",m)),g()},required:function(t,e){this.inputElements.attr({"aria-required":""+e}),this.mirrorValidity()},parseValue:function(t){var e=this.inputElements.map(function(){return D.prop(this,"value")}).get();return this.options.splitInput||(e=e[0]),i[this.type](e,this.options,t)},formatValue:function(t,e){return o[this.type](t,!1!==e&&this.options)},createOpts:["readonly","title","disabled","tabindex","placeholder","defaultValue","value","required"],placeholder:function(t){var e=this.options,i=e.placeholder=t;A[this.type]&&(i=A[this.type](t,this.options)),e.splitInput&&"object"==typeof i?D.each(this.splits,function(t,e){D.prop(e,"placeholder",i[t])}):this.element.prop("placeholder",i)},initDataList:function(){var t,e=this,i=function(){D(e.orig).jProp("list").off("updateDatalist",i).on("updateDatalist",i),clearTimeout(t),t=setTimeout(function(){e.list&&e.list()},9)};D(this.orig).onTrigger("listdatalistchange",i)},getOptions:function(){var t={},e=D(this.orig).jProp("list");return e.find("option").each(function(){t[D.prop(this,"value")]=D.prop(this,"label")}),[t,e.data("label")]},list:function(t){"number"==this.type&&this.element.attr("list",D.attr(this.orig,"list")),this.options.list=t,this._propertyChange("list")},_propertyChange:D.noop,tabindex:function(t){this.options.tabindex=t,this.inputElements.prop("tabindex",this.options.tabindex),D("button",this.buttonWrapper).prop("tabindex",this.options.tabindex)},title:function(t){!t&&this.orig&&null==D.attr(this.orig,"title")&&(t=null),null==(this.options.title=t)?this.inputElements.removeAttr("title"):this.inputElements.prop("title",this.options.title)}};["defaultValue","value"].forEach(function(i){a[i]=function(t,e){this._init&&!e&&t===this.options[i]||(this.element.prop(i,this.formatValue(t)),this.options[i]=t,this._propertyChange(i),this.mirrorValidity())}}),["readonly","disabled"].forEach(function(n){var s="disabled"==n;a[n]=function(t,e){var i=this.options;i[n]==e&&this._init||(i[n]=!!e,!s&&i.buttonOnly?this.inputElements.attr({"aria-readonly":i[n]}):this.inputElements.prop(n,i[n]),this.buttonWrapper[i[n]?"addClass":"removeClass"]("ws-"+n),s&&D("button",this.buttonWrapper).prop("disabled",i[n]))}});var r=D.extend({},a,{_create:function(){var t=this.options,e=n(t.type);this.elemHelper=D('<input type="'+t.type+'" />'),this.asNumber=e.asNumber,this.asValue=e.asValue,this.isValid=e.isValid,a._create.apply(this,arguments),this._init=!1,this.buttonWrapper.html('<span unselectable="on" class="step-controls"><span class="step-up"></span><span class="step-down"></span></span>'),"number"==this.type&&this.inputElements.attr("inputmode","numeric"),t.min||"number"!=typeof t.relMin||(t.min=this.asValue(this.getRelNumber(t.relMin)),D.prop(this.orig,"min",t.min)),t.max||"number"!=typeof t.relMax||(t.max=this.asValue(this.getRelNumber(t.relMax)),D.prop(this.orig,"max",t.max)),this._init=!0},createOpts:["step","min","max","readonly","title","disabled","tabindex","placeholder","defaultValue","value","required"],_addSplitInputs:function(){if(!this.inputElements){var t=l[this.type]._create(this.options);this.splits=t.splits,this.inputElements=D(t.elements).prependTo(this.element).filter("input, select")}},getRelNumber:function(t){var e=V[this.type].start||0;return t&&(e+=t),e},addZero:m,_setStartInRange:function(){var t=this.getRelNumber(this.options.relDefaultValue);!isNaN(this.minAsNumber)&&t<this.minAsNumber?t=this.minAsNumber:!isNaN(this.maxAsNumber)&&t>this.maxAsNumber&&(t=this.maxAsNumber),this.elemHelper.prop("valueAsNumber",t),this.options.defValue=this.elemHelper.prop("value")},reorderInputs:function(){if(l[this.type]){var e=this.element;l[this.type].sort(e,this.options),setTimeout(function(){var t=b.data(e);t&&t.shadowData&&(t.shadowData.shadowFocusElement=e.find("input, select")[0]||e[0])},9)}},value:function(i,t){this._init&&!t&&this.options.value===i||(this.valueAsNumber=this.asNumber(i),this.options.value=i,isNaN(this.valueAsNumber)||!isNaN(this.minAsNumber)&&this.valueAsNumber<this.minAsNumber||!isNaN(this.maxAsNumber)&&this.valueAsNumber>this.maxAsNumber?this._setStartInRange():(this.elemHelper.prop("value",i),this.options.defValue=""),i=o[this.type](i,this.options),this.options.splitInput?D.each(this.splits,function(t,e){D.prop(e,"value",i[t])}):this.element.prop("value",i),this._propertyChange("value"),this.mirrorValidity())},step:function(t){var e,i,n=V[this.type];this.options.step=t,this.elemHelper.prop("step",(e=t,i=n.step,"number"==typeof e||e&&e==1*e?1*e:i)),this.mirrorValidity()},_beforeValue:function(t){this.valueAsNumber=this.asNumber(t),this.options.value=t,isNaN(this.valueAsNumber)||!isNaN(this.minAsNumber)&&this.valueAsNumber<this.minAsNumber||!isNaN(this.maxAsNumber)&&this.valueAsNumber>this.maxAsNumber?this._setStartInRange():(this.elemHelper.prop("value",t),this.options.defValue="")}});["defaultValue","value"].forEach(function(n){var s="value"==n;r[n]=function(i,t){this._init&&!t&&this.options[n]===i||(s&&this._beforeValue(i),i=o[this.type](i,this.options),this.options.splitInput?D.each(this.splits,function(t,e){n in e||s||!D.nodeName(e,"select")?D.prop(e,n,i[t]):D('option[value="'+i[t]+'"]',e).prop("defaultSelected",!0)}):this.element.prop(n,i),this._propertyChange(n),this.mirrorValidity())}}),D.each({min:1,max:-1},function(e,i){var n=e+"AsNumber";r[e]=function(t){this.elemHelper.prop(e,t),this[n]=this.asNumber(t),null!=this.valueAsNumber&&(isNaN(this.valueAsNumber)||!isNaN(this[n])&&this.valueAsNumber*i<this[n]*i)&&this._setStartInRange(),this.options[e]=t,this._propertyChange(e),this.mirrorValidity()}}),D.fn.wsBaseWidget=function(t){return t=D.extend({},t),this.each(function(){D.webshims.objectCreate(a,{element:{value:D(this)}},t)})},D.fn.spinbtnUI=function(t){return t=D.extend({monthNames:"monthNames",size:1,startView:0},t),this.each(function(){D.webshims.objectCreate(r,{element:{value:D(this)}},t)})}}(),h={},c=function(t,e){return c[e+"Loaded"+(t=("color"==t?"color":"forms")+"-picker")]||(c[e+"Loaded"+t]=!0,b.ready(e,function(){b.loader.loadList([t])})),t},y.addZero=m,b.loader.addModule("forms-picker",{noAutoCallback:!0,options:y}),b.loader.addModule("color-picker",{noAutoCallback:!0,css:"jpicker/jpicker.css",options:y}),b.inlinePopover={_create:function(){this.element=D('<div class="ws-inline-picker"><div class="ws-po-box" /></div>').data("wspopover",this),this.contentElement=D(".ws-po-box",this.element),this.element.insertAfter(this.options.prepareFor)},show:D.noop,hide:D.noop,preventBlur:D.noop,isVisible:!0},h._genericSetFocus=function(e,t){if(e=D(e||this.activeButton),!this.popover.openedByFocus&&!t){var i=this,n=function(t){clearTimeout(i.timer),i.timer=setTimeout(function(){e[0]&&(e[0].focus(),!0===t||e.is(":focus")||n(!0))},i.popover.isVisible?99:360)};this.popover.activateElement(e),n()}},h._actions={changeInput:function(t,e,i){i.options.noChangeDismiss||h._actions.cancel(t,e,i),i.setChange(t)},cancel:function(t,e,i){i.options.inlinePicker||(e.stopOpen=!0,i.element.getShadowFocusElement().focus(),setTimeout(function(){e.stopOpen=!1},9),e.hide())}},h.commonInit=function(i,n){var s,e,o;n.isDirty=!0,n.element.on("updatepickercontent pickerchange",function(){s=!1}),i.options.inlinePicker||n.contentElement.on({keydown:function(t){if(9==t.keyCode){s||(s=D('input:not(:disabled), [tabindex="0"]:not(:disabled)',this).filter(":visible"));var e=s.index(t.target);if(t.shiftKey&&e<=0)return s.last().focus(),!1;if(!t.shiftKey&&e>=s.length-1)return s.first().focus(),!1}else if(27==t.keyCode)return i.element.getShadowFocusElement().focus(),n.hide(),!1}}),i._propertyChange=(o=function(){n.isVisible&&n.element.triggerHandler("updatepickercontent")},function(t){("value"!=t||i.options.inlinePicker)&&(n.isDirty=!0,n.isVisible&&(clearTimeout(e),e=setTimeout(o,9)))}),n.activeElement=D([]),n.activateElement=function(t){(t=D(t))[0]!=n.activeElement[0]&&(n.activeElement.removeClass("ws-focus"),t.addClass("ws-focus")),n.activeElement=t},n.element.on({wspopoverbeforeshow:function(){i.element.triggerHandler("wsupdatevalue"),n.element.triggerHandler("updatepickercontent")}}),D(i.orig).on("remove",function(t){t.originalEvent||D(a).off("wslocalechange",i._propertyChange)})},h._common=function(e){var t,i,n=e.options,s=b.objectCreate(n.inlinePicker?b.inlinePopover:b.wsPopover,{},{prepareFor:n.inlinePicker?e.buttonWrapper:e.element,position:n.widgetPosition}),o=D('<button type="button" class="ws-popover-opener"><span /></button>').appendTo(e.buttonWrapper),a=function(){(h[e.type].showPickerContent||h.showPickerContent)(e,s)},r=function(){var t=c(e.type,"DOM");n.disabled||n.readonly||!n.inlinePicker&&s.isVisible||(b.ready(t,a),s.show(e.element))},u=function(){(n.inlinePicker||s.isVisible)&&s.activeElement&&(s.openedByFocus=!1,s.activeElement.focus()),r()};n.containerElements.push(s.element[0]),"color"!=e.type&&(n.yearButtons&&(n.startView=2),n.startView||(n.startView=0),"time"==e.type&&(n.minView=3,n.startView=3),n.minView||(n.minView=0),n.startView<n.minView&&(n.startView=n.minView,b.warn("wrong config for minView/startView.")),n.size||(n.size=1)),s.element.addClass(e.type+"-popover input-picker").attr({role:"application"}).on({wspopoverhide:function(){s.openedByFocus=!1},focusin:function(t){s.activateElement&&(s.openedByFocus=!1,s.activateElement(t.target))},focusout:function(){s.activeElement&&s.activeElement.removeClass("ws-focus"),n.inlinePicker&&(s.openedByFocus=!0)}}),w(s.element.children("div.ws-po-outerbox").attr({role:"group"}),n.labels,!0),w(o,n.labels,!0),null!=n.tabindex&&o.attr({tabindex:n.tabindex}),n.disabled&&o.prop({disabled:!0}),o.on({click:u}),n.inlinePicker?s.openedByFocus=!0:(o.on({mousedown:function(){C.apply(this,arguments),s.preventBlur()},focus:function(){s.preventBlur()}}),t=!1,i=function(){t=!1},e.inputElements.on({keydown:function(t){40==t.keyCode&&t.altKey&&u()},focus:function(){!s.stopOpen&&(n.buttonOnly||n.openOnFocus||t&&n.openOnMouseFocus)?(s.openedByFocus=!n.buttonOnly&&!n.noInput,r()):s.preventBlur()},mousedown:function(){t=!0,setTimeout(i,9),n.buttonOnly&&s.isVisible&&s.activeElement&&(s.openedByFocus=!1,setTimeout(function(){s.openedByFocus=!1,s.activeElement.focus()},4)),e.element.is(":focus")&&(s.openedByFocus=!n.buttonOnly&&!n.noInput,r()),s.preventBlur()}})),e.popover=s,e.opener=o,D(e.orig).on("remove",function(t){t.originalEvent||setTimeout(function(){o.remove(),s.element.remove()},4)}),n.inlinePicker&&r(),c(e.type,"WINDOWLOAD")},h.month=h._common,h.date=h._common,h.time=h._common,h["datetime-local"]=h._common,h.color=function(i){var e,n,t=h._common.apply(this,arguments),s=D(i.orig).data("alphacontrol"),o=i.opener.prepend('<span class="ws-color-indicator-bg"><span class="ws-color-indicator" /></span>').find(".ws-color-indicator"),a=function(){o.css({backgroundColor:D.prop(this,"value")||"#000"})},r=(n=function(){try{var t=i.alpha.prop("valueAsNumber")/(i.alpha.prop("max")||1);isNaN(t)||o.css({opacity:t})}catch(e){}},function(t){clearTimeout(e),e=setTimeout(n,t&&"change"!=t.type?40:4)});return i.alpha=D(s?"#"+s:[]),D(i.orig).on("wsupdatevalue change",a).each(a),i.alpha.on("wsupdatevalue change input",r).each(r),t},b.picker=h,function(){var c,m,t=Modernizr.inputtypes,d={},s={disabled:1,required:1,readonly:1},f=["disabled","readonly","value","defaultValue","min","max","step","title","required","placeholder"],v=["data-placeholder","tabindex"];if(D.each(f.concat(v),function(t,e){var n=e.replace(/^data\-/,"");b.onNodeNamesPropertyModify("input",e,function(t,e){if(!c){var i=b.data(this,"shadowData");i&&i.data&&i.nativeElement===this&&i.data[n]&&(s[n]?i.data[n](t,e):i.data[n](t))}})}),y.replaceUI&&"valueAsNumber"in a.createElement("input")){var n=function(){b.data(this,"hasShadow")&&D.prop(this,"value",D.prop(this,"value"))};b.onNodeNamesPropertyModify("input","valueAsNumber",n),b.onNodeNamesPropertyModify("input","valueAsDate",n),D.each({stepUp:1,stepDown:-1},function(t,e){var i=b.defineNodeNameProperty("input",t,{prop:{value:function(){var t;return i.prop&&i.prop._supvalue&&(t=i.prop._supvalue.apply(this,arguments),n.apply(this,arguments)),t}}})})}var e=function(t,e){(d[t]=e).attrs=D.merge([],v,e.attrs),e.props=D.merge([],f,e.props)},g=function(){return"none"!=D.css(this,"display")},i=function(){var t,i,e,n,s,o,a,r,u,l,p,h=D.prop(this,"type");if(d[h]&&b.implement(this,"inputwidgets")){for(e={},n=h,s=D(this).jProp("labels"),i=D.extend({},y.widgets,y[h],D(D.prop(this,"form")).data(h)||{},D(this).data(h)||{},{orig:this,type:h,labels:s,options:{},input:function(t){i._change(t,"input")},change:function(t){i._change(t,"change")},_change:function(t,e){c=!0,D.prop(i.orig,"value",t),c=!1,e&&D(i.orig).trigger(e)},containerElements:[]}),t=0;t<f.length;t++)i[f[t]]=D.prop(this,f[t]);for(t=0;t<v.length;t++)"placeholder"!=(n=v[t].replace(/^data\-/,""))&&i[n]||(i[n]=D.attr(this,v[t])||i[n]);i.monthSelect&&(i.onlyMonthDigits=!0),i.onlyMonthDigits&&(i.formatMonthNames="monthDigits"),e.shim=d[h]._create(i),b.addShadowDom(this,e.shim.element,{data:e.shim||{}}),e.shim.options.containerElements.push(e.shim.element[0]),w(D(this).getShadowFocusElement(),s),D(this).on("change",function(t){c||e.shim.value(D.prop(this,"value"))}),p=l=!(u={focusin:!0,focus:!0}),D(e.shim.options.containerElements).on({"focusin focus focusout blur":function(t){t.stopImmediatePropagation(),p=u[t.type],clearTimeout(r),r=setTimeout(function(){p!=l&&(l=p,D(i.orig).triggerHandler(p?"focus":"blur"),D(i.orig).trigger(p?"focusin":"focusout")),l=p},0)}}),e.shim.element.on("change input",C),Modernizr.formvalidation&&D(i.orig).on("firstinvalid",function(e){!b.fromSubmit&&m||D(i.orig).off("invalid.replacedwidgetbubble").on("invalid.replacedwidgetbubble",function(t){e.isInvalidUIPrevented()||t.isDefaultPrevented()||(b.validityAlert.showFor(e.target),e.preventDefault(),t.preventDefault()),D(i.orig).off("invalid.replacedwidgetbubble")})}),e.shim.buttonWrapper&&e.shim.buttonWrapper.filter(g).length&&e.shim.element.addClass("has-input-buttons"),e.shim.element.addClass(D.prop(this,"className")),i.calculateWidth?(o=e.shim).element.onWSOff("updateshadowdom",function(){var t,e,i;D(o.orig).removeClass("ws-important-hide"),D.style(o.orig,"display","");var n=.8;a&&!o.orig.offsetWidth||(t=o.buttonWrapper&&o.buttonWrapper.filter(g).length,e=D.css(o.orig,"marginRight"),o.element.css({marginLeft:D.css(o.orig,"marginLeft"),marginRight:t?0:e}),t&&(i=parseInt(o.buttonWrapper.css("marginLeft"),10)||0,o.element.css({paddingRight:""}),i<0?(e=(parseInt(e,10)||0)+-1*(o.buttonWrapper.outerWidth()+i),o.buttonWrapper.css("marginRight",e),o.element.css({paddingRight:""}).css({paddingRight:(parseInt(o.element.css("paddingRight"),10)||0)+o.buttonWrapper.outerWidth()})):(o.buttonWrapper.css("marginRight",e),n=o.buttonWrapper.outerWidth(!0)+n)),o.element.outerWidth(D(o.orig).outerWidth()-n)),a=!0,D(o.orig).addClass("ws-important-hide")},!0):D(this).addClass("ws-important-hide")}};Modernizr.formvalidation&&["input","form"].forEach(function(t){var e=b.defineNodeNameProperty(t,"checkValidity",{prop:{value:function(){m=!0;var t=e.prop._supvalue.apply(this,arguments);return m=!1,t}}})});var o={};y.replaceUI&&(D.isPlainObject(y.replaceUI)?D.extend(o,y.replaceUI):D.extend(o,{range:1,number:1,time:1,month:1,date:1,color:1,"datetime-local":1})),t.number&&-1==navigator.userAgent.indexOf("Touch")&&(/MSIE 1[0|1]\.\d/.test(navigator.userAgent)||/Trident\/7\.0/.test(navigator.userAgent))&&(o.number=1),t.range&&!o.range||e("range",{_create:function(t,e){return D("<span />").insertAfter(t.orig).rangeUI(t).data("rangeUi")}}),["number","time","month","date","color","datetime-local"].forEach(function(s){t[s]&&!o[s]||e(s,{_create:function(t,e){t.monthSelect&&(t.splitInput=!0),t.splitInput&&!l[s]&&(b.warn("splitInput not supported for "+s),t.splitInput=!1);var i=t.splitInput?'<span class="ws-'+s+' ws-input" role="group"></span>':'<input class="ws-'+s+'" type="text" />',n=D(i).insertAfter(t.orig);return n=V[s]?n.spinbtnUI(t).data("wsWidget"+s):n.wsBaseWidget(t).data("wsWidget"+s),b.picker&&b.picker[s]&&b.picker[s](n),n.buttonWrapper.addClass("input-button-size-"+n.buttonWrapper.children().filter(g).length),n}})}),b.addReady(function(t,e){D("input",t).add(e.filter("input")).each(i)})}()});